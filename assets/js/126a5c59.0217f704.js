"use strict";(self.webpackChunkprotoconf=self.webpackChunkprotoconf||[]).push([[1799],{8053:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=r(5893),o=r(3905);const i={},s="Protoconf for Platform Engineering",a={id:"use-cases/platform-engineering",title:"Protoconf for Platform Engineering",description:"One of the challenges of platform engineering is coordinating between different stakeholders, each with their own concerns and requirements. Protoconf can help streamline this process by serving as a single source of truth that all stakeholders can agree upon.",source:"@site/docs/use-cases/platform-engineering.mdx",sourceDirName:"use-cases",slug:"/use-cases/platform-engineering",permalink:"/docs/0.1.7/use-cases/platform-engineering",draft:!1,unlisted:!1,editUrl:"https://github.com/protoconf/protoconf/tree/main/website/protoconf/docs/use-cases/platform-engineering.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Employee Directory as Code",permalink:"/docs/0.1.7/use-cases/employee-directory"}},c={},l=[{value:"Contract Definition",id:"contract-definition",level:2},{value:"Application of the Contract",id:"application-of-the-contract",level:2},{value:"Software Engineers and SREs",id:"software-engineers-and-sres",level:3},{value:"Compute Infrastructure Engineers",id:"compute-infrastructure-engineers",level:3},{value:"Monitoring Infrastructure Engineers",id:"monitoring-infrastructure-engineers",level:3},{value:"Security Engineers",id:"security-engineers",level:3},{value:"FinOps Engineers",id:"finops-engineers",level:3}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.ah)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"protoconf-for-platform-engineering",children:"Protoconf for Platform Engineering"}),"\n",(0,t.jsx)(n.p,{children:"One of the challenges of platform engineering is coordinating between different stakeholders, each with their own concerns and requirements. Protoconf can help streamline this process by serving as a single source of truth that all stakeholders can agree upon."}),"\n",(0,t.jsx)(n.h2,{id:"contract-definition",children:"Contract Definition"}),"\n",(0,t.jsx)(n.p,{children:"The first step is to define a contract in Protobuf. This contract can include information about the components and services in your production system, such as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Component metadata, like its owner and its sources/packages needed to run"}),"\n",(0,t.jsx)(n.li,{children:"Metrics for evaluating the component's health"}),"\n",(0,t.jsx)(n.li,{children:"Dependencies on other components"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-protobuf",children:'syntax = "proto3";\n\npackage platform_engineering.v1;\n\nmessage Component {\n    string owner = 1;\n    repeated string sources = 2;\n    repeated string metrics = 3;\n    repeated string dependencies = 4;\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"application-of-the-contract",children:"Application of the Contract"}),"\n",(0,t.jsx)(n.p,{children:"With the contract defined, each stakeholder can use Protoconf to provide and consume information in ways that are relevant to their roles:"}),"\n",(0,t.jsx)(n.h3,{id:"software-engineers-and-sres",children:"Software Engineers and SREs"}),"\n",(0,t.jsx)(n.p,{children:"Software engineers and SREs can use Protoconf to populate the contract with data about the components they own."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'load("platform_engineering.v1/component.star", "Component")\n\nComponent(\n    owner="team1",\n    sources=["github.com/repo1", "github.com/repo2"],\n    metrics=["latency", "error_rate"],\n    dependencies=["component2", "component3"]\n)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"compute-infrastructure-engineers",children:"Compute Infrastructure Engineers"}),"\n",(0,t.jsx)(n.p,{children:"Compute infrastructure engineers can use the contract to automate the application of these definitions into the compute platform. This allows a clear migration path between different infrastructure platforms like Kubernetes, ECS, and Serverless."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'load("kubernetes.star", "k8s")\n\nfor component in components:\n    k8s.Deployment(\n        name=component.owner,\n        image=component.sources[0], # assumes sources[0] is the primary source\n        # fill in other fields as necessary\n    )\n'})}),"\n",(0,t.jsx)(n.h3,{id:"monitoring-infrastructure-engineers",children:"Monitoring Infrastructure Engineers"}),"\n",(0,t.jsx)(n.p,{children:"Monitoring infrastructure engineers can use the contract to apply the correct monitoring tools, scrape and keep relevant metrics, and generate dashboards."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'load("monitoring.star", "monitoring")\n\nfor component in components:\n    monitoring.Dashboard(\n        name=component.owner + "_dashboard",\n        metrics=component.metrics,\n        # fill in other fields as necessary\n    )\n'})}),"\n",(0,t.jsx)(n.h3,{id:"security-engineers",children:"Security Engineers"}),"\n",(0,t.jsx)(n.p,{children:"Security engineers can enforce security practices via validators, implement zero-trust networking, provide secrets services, and manage access."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'load("security.star", "security")\n\nfor component in components:\n    security.Policy(\n        name=component.owner + "_policy",\n        owner=component.owner,\n        # fill in other fields as necessary\n    )\n'})}),"\n",(0,t.jsx)(n.h3,{id:"finops-engineers",children:"FinOps Engineers"}),"\n",(0,t.jsx)(n.p,{children:"FinOps engineers can enforce and automate correct resource tagging, adding relevant alerts, etc."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'load("finops.star", "finops")\n\nfor component in components:\n    finops.TaggingPolicy(\n        name=component.owner + "_tagging_policy",\n        owner=component.owner,\n        # fill in other fields as necessary\n    )\n'})}),"\n",(0,t.jsx)(n.p,{children:"By using Protoconf in this way, each stakeholder can focus on their own concerns, while also having access to a holistic view of the system. This increases both the efficiency and the effectiveness of your platform engineering efforts."})]})}function d(e={}){const{wrapper:n}={...(0,o.ah)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},3905:(e,n,r)=>{r.d(n,{ah:()=>l});var t=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function a(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=t.createContext({}),l=function(e){var n=t.useContext(c),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),u=l(r),f=o,h=u["".concat(c,".").concat(f)]||u[f]||p[f]||i;return r?t.createElement(h,s(s({ref:n},d),{},{components:r})):t.createElement(h,s({ref:n},d))}));d.displayName="MDXCreateElement"}}]);